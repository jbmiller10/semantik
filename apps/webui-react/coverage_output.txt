
 RUN  v2.1.9 /home/dockertest/semantik/apps/webui-react
      Coverage enabled with v8

 âœ“ src/tests/basic.test.ts (2 tests) 5ms
 âœ“ src/tests/msw-demo.test.ts (3 tests) 58ms
 â¯ src/stores/__tests__/authStore.test.ts (7 tests | 2 failed) 67ms
   Ã— authStore > clears auth data on logout 46ms
     â†’ expected "spy" to be called with arguments: [ '/api/auth/logout', â€¦(1) ]

Received: 



Number of calls: 0

   Ã— authStore > clears state even if logout API fails 10ms
     â†’ expected "error" to be called with arguments: [ 'Logout API call failed:', â€¦(1) ]

Received: 



Number of calls: 0

 âœ“ src/stores/__tests__/jobsStore.test.ts (16 tests) 92ms
 â¯ src/pages/__tests__/HomePage.test.tsx (6 tests | 5 failed) 56ms
   Ã— HomePage > renders CreateJobForm when activeTab is create 33ms
     â†’ Unable to find an element by: [data-testid="create-job-form"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
   Ã— HomePage > renders JobList when activeTab is jobs 3ms
     â†’ Unable to find an element by: [data-testid="job-list"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
   Ã— HomePage > renders SearchInterface when activeTab is search 2ms
     â†’ Unable to find an element by: [data-testid="search-interface"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
   Ã— HomePage > renders CollectionList when activeTab is collections 2ms
     â†’ Unable to find an element by: [data-testid="collection-list"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
   Ã— HomePage > renders nothing when activeTab is an unknown value 4ms
     â†’ expect(received).toBeEmptyDOMElement()

received value must be an HTMLElement or an SVGElement.

 âœ“ src/stores/__tests__/searchStore.test.ts (19 tests) 107ms
 â¯ src/stores/__tests__/uiStore.test.ts (13 tests | 2 failed) 109ms
   Ã— uiStore > toasts > removes a toast by id 26ms
     â†’ expected [] to have a length of 1 but got +0
   Ã— uiStore > toasts > handles multiple toasts with different durations 5ms
     â†’ expected [] to have a length of 2 but got +0
 â¯ src/components/__tests__/Layout.test.tsx (14 tests | 14 failed) 87ms
   Ã— Layout > renders header with app title and user info 34ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   Ã— Layout > renders navigation tabs on home page 4ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   Ã— Layout > highlights active tab correctly 3ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   Ã— Layout > handles tab switching 4ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   Ã— Layout > renders all modals and toast 5ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   Ã— Layout > renders outlet for page content 3ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   Ã— Layout > handles logout 3ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   Ã— Layout > shows settings link on home page 3ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   Ã— Layout > shows back link on settings page 5ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   Ã— Layout > hides navigation tabs on settings page 5ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   Ã— Layout > shows verification link in development mode 4ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   Ã— Layout > hides verification link in production mode 3ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   Ã— Layout > handles all tab clicks correctly 3ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   Ã— Layout > renders with correct layout structure 3ms
     â†’ You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
 â¯ src/components/__tests__/Toast.test.tsx (10 tests | 5 failed) 229ms
   Ã— Toast > renders error toast correctly 23ms
     â†’ expect(element).toHaveClass("border-l-4 border-red-500")

Expected the element to have class:
  border-l-4 border-red-500
Received:
  p-4
   Ã— Toast > renders success toast correctly 9ms
     â†’ expect(element).toHaveClass("border-l-4 border-green-500")

Expected the element to have class:
  border-l-4 border-green-500
Received:
  p-4
   Ã— Toast > renders warning toast correctly 9ms
     â†’ expect(element).toHaveClass("border-l-4 border-yellow-500")

Expected the element to have class:
  border-l-4 border-yellow-500
Received:
  p-4
   Ã— Toast > renders info toast correctly 6ms
     â†’ expect(element).toHaveClass("border-l-4 border-blue-500")

Expected the element to have class:
  border-l-4 border-blue-500
Received:
  p-4
   Ã— Toast > renders toast with all expected classes 5ms
     â†’ expect(element).toHaveClass("max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden")

Expected the element to have class:
  max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden
Received:
  p-4
 âœ“ src/components/__tests__/CollectionCard.test.tsx (8 tests) 249ms
 âœ“ src/components/__tests__/SearchResults.test.tsx (11 tests) 369ms
 âœ“ src/components/__tests__/JobCard.test.tsx (8 tests) 352ms
 âœ“ src/components/__tests__/JobList.test.tsx (9 tests) 529ms
 âœ“ src/components/__tests__/SearchInterface.test.tsx (12 tests) 641ms
 â¯ src/components/__tests__/CreateJobForm.test.tsx (12 tests | 3 failed) 3336ms
   Ã— CreateJobForm > creates job with form data 1195ms
     â†’ expected "spy" to be called at least once

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<form[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900 mb-2"[39m
            [36m>[39m
              [0mCreate Embedding Job[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [36m>[39m
              [0mScan a directory and create embeddings for all supported documents.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mCollection Mode[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-4"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"radio"[39m
                    [33mvalue[39m=[32m"create"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm"[39m
                  [36m>[39m
                    [0mCreate New Collection[0m
                  [36m</span>[39m
                [36m</label>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"radio"[39m
                    [33mvalue[39m=[32m"append"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm"[39m
                  [36m>[39m
                    [0mAdd to Existing Collection[0m
                  [36m</span>[39m
                [36m</label>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"collection"[39m
              [36m>[39m
                [0mJob Name [0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"collection"[39m
                [33mname[39m=[32m"collection"[39m
                [33mplaceholder[39m=[32m"my-documents"[39m
                [33mrequired[39m=[32m""[39m
                [33mtype[39m=[32m"text"[39m
                [33mvalue[39m=[32m"My Collection"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mA unique name for this collection of documents[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"directory"[39m
              [36m>[39m
                [0mDirectory Path [0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"directory"[39m
                  [33mname[39m=[32m"directory"[39m
                  [33mplaceholder[39m=[32m"/path/to/documents"[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m"/test/path"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mScan[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-start"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h4[39m
                    [33mclass[39m=[32m"text-sm font-medium text-blue-900"[39m
                  [36m>[39m
                    [0mScan Complete[0m
                  [36m</h4>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"mt-1 text-sm text-blue-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium"[39m
                    [36m>[39m
                      [0m10[0m
                    [36m</span>[39m
                    [0m files found,[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium ml-1"[39m
                    [36m>[39m
                      [0m1 MB[0m
                    [36m</span>[39m
                    [0m total[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<details[39m
                  [33mclass[39m=[32m"text-right"[39m
                [36m>[39m
                  [36m<summary[39m
                    [33mclass[39m=[32m"cursor-pointer text-sm text-blue-600 hover:text-blue-800"[39m
                  [36m>[39m
                    [0mView files[0m
                  [36m</summary>[39m
                [36m</details>[39m
              [36m</div>[39m
              [36m<details>[39m
                [36m<summary[39m
                  [33mclass[39m=[32m"sr-only"[39m
                [36m>[39m
                  [0mFile list[0m
                [36m</summary>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-3 border-t border-blue-200 pt-3"[39m
                [36m>[39m
                  [36m<ul[39m
                    [33mclass[39m=[32m"text-xs text-gray-600 max-h-40 overflow-y-auto space-y-1"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</details>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"model"[39m
              [36m>[39m
                [0mEmbedding Model[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"model"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"Qwen/Qwen3-Embedding-0.6B"[39m
                [36m>[39m
                  [0mQwen/Qwen3-Embedding-0.6B[0m
                  [0m - [0m
                [36m</option>[39m
              [36m</select>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mDimension: [0m
                [0m | Memory: [0m
                [0mN/A[0m
                [0m MB[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"chunkSize"[39m
                [36m>[39m
                  [0mChunk Size (tokens)[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"chunkSize"[39m
                  [33mmax[39m=[32m"50000"[39m
                  [33mmin[39m=[32m"100"[39m
                  [33mtype[39m=[32m"number"[39m
                  [33mvalue[39m=[32m"600"[39m
                [36m/>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mTokens per chunk (100-50000)[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"chunkOverlap"[39m
                [36m>[39m
                  [0mChunk Overlap (tokens)[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"chunkOverlap"[39m
                  [33mmax[39m=[32m"600"[39m
                  [33mmin[39m=[32m"0"[39m
                  [33mtype[39m=[32m"number"[39m
                  [33mvalue[39m=[32m"200"[39m
                [36m/>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mOverlapping tokens[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border-t pt-4"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm font-medium text-blue-600 hover:text-blue-500 flex items-center"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mShow[0m
                [0m Advanced Options[0m
                [36m<svg[39m
                  [33mclass[39m=[32m"ml-1 h-4 w-4 transform transition-transform "[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M19 9l-7 7-7-7"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-end space-x-3 pt-6 border-t"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mReset[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [33mtype[39m=[32m"submit"[39m
            [36m>[39m
              [0mCreate Job[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</form>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   Ã— CreateJobForm > shows advanced options when toggled 45ms
     â†’ Unable to find a label with the text of: Chunk Size

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
    [36m>[39m
      [36m<form[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-xl font-semibold text-gray-900 mb-2"[39m
          [36m>[39m
            [0mCreate Embedding Job[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
          [36m>[39m
            [0mScan a directory and create embeddings for all supported documents.[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
            [36m>[39m
              [0mCollection Mode[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex space-x-4"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<input[39m
                  [33mchecked[39m=[32m""[39m
                  [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                  [33mtype[39m=[32m"radio"[39m
                  [33mvalue[39m=[32m"create"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-sm"[39m
                [36m>[39m
                  [0mCreate New Collection[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<label[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                  [33mtype[39m=[32m"radio"[39m
                  [33mvalue[39m=[32m"append"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-sm"[39m
                [36m>[39m
                  [0mAdd to Existing Collection[0m
                [36m</span>[39m
              [36m</label>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
              [33mfor[39m=[32m"collection"[39m
            [36m>[39m
              [0mJob Name [0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<input[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
              [33mid[39m=[32m"collection"[39m
              [33mname[39m=[32m"collection"[39m
              [33mplaceholder[39m=[32m"my-documents"[39m
              [33mrequired[39m=[32m""[39m
              [33mtype[39m=[32m"text"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<p[39m
              [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
            [36m>[39m
              [0mA unique name for this collection of documents[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
              [33mfor[39m=[32m"directory"[39m
            [36m>[39m
              [0mDirectory Path [0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"directory"[39m
                [33mname[39m=[32m"directory"[39m
                [33mplaceholder[39m=[32m"/path/to/documents"[39m
                [33mtype[39m=[32m"text"[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mScan[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
              [33mfor[39m=[32m"model"[39m
            [36m>[39m
              [0mEmbedding Model[0m
            [36m</label>[39m
            [36m<select[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
              [33mid[39m=[32m"model"[39m
            [36m>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"Qwen/Qwen3-Embedding-0.6B"[39m
              [36m>[39m
                [0mQwen/Qwen3-Embedding-0.6B[0m
                [0m - [0m
              [36m</option>[39m
            [36m</select>[39m
            [36m<p[39m
              [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
            [36m>[39m
              [0mDimension: [0m
              [0m | Memory: [0m
              [0mN/A[0m
              [0m MB[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"chunkSize"[39m
              [36m>[39m
                [0mChunk Size (tokens)[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"chunkSize"[39m
                [33mmax[39m=[32m"50000"[39m
                [33mmin[39m=[32m"100"[39m
                [33mtype[39m=[32m"number"[39m
                [33mvalue[39m=[32m"600"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mTokens per chunk (100-50000)[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"chunkOverlap"[39m
              [36m>[39m
                [0mChunk Overlap (tokens)[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"chunkOverlap"[39m
                [33mmax[39m=[32m"600"[39m
                [33mmin[39m=[32m"0"[39m
                [33mtype[39m=[32m"number"[39m
                [33mvalue[39m=[32m"200"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mOverlapping tokens[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-t pt-4"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"text-sm font-medium text-blue-600 hover:text-blue-500 flex items-center"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mHide[0m
              [0m Advanced Options[0m
              [36m<svg[39m
                [33mclass[39m=[32m"ml-1 h-4 w-4 transform transition-transform rotate-180"[39m
                [33mfill[39m=[32m"none"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M19 9l-7 7-7-7"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4 mt-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"vectorDim"[39m
                [36m>[39m
                  [0mVector Dimension[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"vectorDim"[39m
                  [33mplaceholder[39m=[32m"Auto"[39m
                  [33mtype[39m=[32m"number"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mLeave empty for default[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"quantization"[39m
                [36m>[39m
                  [0mQuantization[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"quantization"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"float32"[39m
                  [36m>[39m
                    [0mFloat32[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"float16"[39m
                  [36m>[39m
                    [0mFloat16[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"int8"[39m
                  [36m>[39m
                    [0mInt8[0m
                  [36m</option>[39m
                [36m</select>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mModel precision level[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"batchSize"[39m
                [36m>[39m
                  [0mBatch Size[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"batchSize"[39m
                  [33mmax[39m=[32m"1000"[39m
                  [33mmin[39m=[32m"1"[39m
                  [33mtype[39m=[32m"number"[39m
                  [33mvalue[39m=[32m"96"[39m
                [36m/>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mChunks per batch[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"instruction"[39m
              [36m>[39m
                [0mCustom Instruction (optional)[0m
              [36m</label>[39m
              [36m<textarea[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"instruction"[39m
                [33mplaceholder[39m=[32m"Represent this document for searching:"[39m
                [33mrows[39m=[32m"2"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mCustom instruction for the embedding model[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-end space-x-3 pt-6 border-t"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0mReset[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
            [33mdisabled[39m=[32m""[39m
            [33mtype[39m=[32m"submit"[39m
          [36m>[39m
            [0mCreate Job[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</form>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   Ã— CreateJobForm > handles append mode submission 1206ms
     â†’ expected "spy" to be called at least once

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<form[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900 mb-2"[39m
            [36m>[39m
              [0mCreate Embedding Job[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [36m>[39m
              [0mScan a directory and create embeddings for all supported documents.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mCollection Mode[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-4"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"radio"[39m
                    [33mvalue[39m=[32m"create"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm"[39m
                  [36m>[39m
                    [0mCreate New Collection[0m
                  [36m</span>[39m
                [36m</label>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"radio"[39m
                    [33mvalue[39m=[32m"append"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm"[39m
                  [36m>[39m
                    [0mAdd to Existing Collection[0m
                  [36m</span>[39m
                [36m</label>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"existingCollection"[39m
              [36m>[39m
                [0mSelect Collection [0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"existingCollection"[39m
                [33mrequired[39m=[32m""[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m""[39m
                [36m>[39m
                  [0mSelect a collection...[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"Existing Collection"[39m
                [36m>[39m
                  [0mExisting Collection[0m
                  [0m ([0m
                  [0m10[0m
                  [0m files)[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-gray-50 border border-gray-200 rounded-md p-4"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"text-sm font-medium text-gray-900 mb-2"[39m
              [36m>[39m
                [0mInherited Settings[0m
              [36m</h4>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-2 gap-x-4 gap-y-2 text-sm"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mModel:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m>[39m
                    [0mQwen/Qwen3-Embedding-0.6B[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mChunk Size:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m>[39m
                    [0m600[0m
                    [0m tokens[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mChunk Overlap:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m>[39m
                    [0m200[0m
                    [0m tokens[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mBatch Size:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mQuantization:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-2 text-xs text-gray-500"[39m
              [36m>[39m
                [0mThese settings will be used to ensure consistency with the existing collection.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"directory"[39m
              [36m>[39m
                [0mDirectory Path [0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"directory"[39m
                  [33mname[39m=[32m"directory"[39m
                  [33mplaceholder[39m=[32m"/path/to/documents"[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m"/test/append/path"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mScan[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-start"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h4[39m
                    [33mclass[39m=[32m"text-sm font-medium text-blue-900"[39m
                  [36m>[39m
                    [0mScan Complete[0m
                  [36m</h4>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"mt-1 text-sm text-blue-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium"[39m
                    [36m>[39m
                      [0m5[0m
                    [36m</span>[39m
                    [0m files found,[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium ml-1"[39m
                    [36m>[39m
                      [0m512 KB[0m
                    [36m</span>[39m
                    [0m total[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<details[39m
                  [33mclass[39m=[32m"text-right"[39m
                [36m>[39m
                  [36m<summary[39m
                    [33mclass[39m=[32m"cursor-pointer text-sm text-blue-600 hover:text-blue-800"[39m
                  [36m>[39m
                    [0mView files[0m
                  [36m</summary>[39m
                [36m</details>[39m
              [36m</div>[39m
              [36m<details>[39m
                [36m<summary[39m
                  [33mclass[39m=[32m"sr-only"[39m
                [36m>[39m
                  [0mFile list[0m
                [36m</summary>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-3 border-t border-blue-200 pt-3"[39m
                [36m>[39m
                  [36m<ul[39m
                    [33mclass[39m=[32m"text-xs text-gray-600 max-h-40 overflow-y-auto space-y-1"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</details>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-end space-x-3 pt-6 border-t"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mReset[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [33mtype[39m=[32m"submit"[39m
            [36m>[39m
              [0mAdd Documents[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</form>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m

âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯ Unhandled Errors âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯

Vitest caught 3 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.
âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯
 Test Files  6 failed | 9 passed (15)
      Tests  31 failed | 119 passed (150)
     Errors  3 errors
   Start at  20:46:44
   Duration  5.29s (transform 1.42s, setup 4.31s, collect 4.25s, tests 6.28s, environment 8.01s, prepare 2.14s)

