
> webui-react@0.0.0 test:coverage
> vitest --coverage


 DEV  v2.1.9 /home/dockertest/semantik/apps/webui-react
      Coverage enabled with v8

 ❯ src/stores/__tests__/authStore.test.ts (7 tests | 2 failed) 61ms
   × authStore > clears auth data on logout 41ms
     → expected "spy" to be called with arguments: [ '/api/auth/logout', …(1) ]

Received: 



Number of calls: 0

   × authStore > clears state even if logout API fails 12ms
     → expected "error" to be called with arguments: [ 'Logout API call failed:', …(1) ]

Received: 



Number of calls: 0

 ❯ src/stores/__tests__/uiStore.test.ts (13 tests | 2 failed) 92ms
   × uiStore > toasts > removes a toast by id 18ms
     → expected [] to have a length of 1 but got +0
   × uiStore > toasts > handles multiple toasts with different durations 4ms
     → expected [] to have a length of 2 but got +0
 ✓ src/stores/__tests__/searchStore.test.ts (19 tests) 97ms
 ✓ src/stores/__tests__/jobsStore.test.ts (16 tests) 104ms
 ❯ src/components/__tests__/Layout.test.tsx (14 tests | 14 failed) 90ms
   × Layout > renders header with app title and user info 36ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   × Layout > renders navigation tabs on home page 4ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   × Layout > highlights active tab correctly 5ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   × Layout > handles tab switching 6ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   × Layout > renders all modals and toast 5ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   × Layout > renders outlet for page content 3ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   × Layout > handles logout 3ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   × Layout > shows settings link on home page 3ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   × Layout > shows back link on settings page 3ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   × Layout > hides navigation tabs on settings page 4ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   × Layout > shows verification link in development mode 3ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   × Layout > hides verification link in production mode 3ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   × Layout > handles all tab clicks correctly 4ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
   × Layout > renders with correct layout structure 4ms
     → You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
 ✓ src/components/__tests__/CollectionCard.test.tsx (8 tests) 239ms
 ❯ src/components/__tests__/Toast.test.tsx (10 tests | 5 failed) 237ms
   × Toast > renders error toast correctly 33ms
     → expect(element).toHaveClass("border-l-4 border-red-500")

Expected the element to have class:
  border-l-4 border-red-500
Received:
  p-4
   × Toast > renders success toast correctly 10ms
     → expect(element).toHaveClass("border-l-4 border-green-500")

Expected the element to have class:
  border-l-4 border-green-500
Received:
  p-4
   × Toast > renders warning toast correctly 9ms
     → expect(element).toHaveClass("border-l-4 border-yellow-500")

Expected the element to have class:
  border-l-4 border-yellow-500
Received:
  p-4
   × Toast > renders info toast correctly 6ms
     → expect(element).toHaveClass("border-l-4 border-blue-500")

Expected the element to have class:
  border-l-4 border-blue-500
Received:
  p-4
   × Toast > renders toast with all expected classes 5ms
     → expect(element).toHaveClass("max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden")

Expected the element to have class:
  max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden
Received:
  p-4
 ✓ src/components/__tests__/SearchResults.test.tsx (11 tests) 409ms
 ✓ src/components/__tests__/JobCard.test.tsx (8 tests) 400ms
 ✓ src/components/__tests__/JobList.test.tsx (9 tests) 557ms
 ✓ src/components/__tests__/SearchInterface.test.tsx (12 tests) 737ms
 ✓ src/tests/basic.test.ts (2 tests) 5ms
 ✓ src/tests/msw-demo.test.ts (3 tests) 28ms
 ❯ src/pages/__tests__/HomePage.test.tsx (6 tests | 5 failed) 41ms
   × HomePage > renders CreateJobForm when activeTab is create 23ms
     → Unable to find an element by: [data-testid="create-job-form"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
   × HomePage > renders JobList when activeTab is jobs 3ms
     → Unable to find an element by: [data-testid="job-list"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
   × HomePage > renders SearchInterface when activeTab is search 2ms
     → Unable to find an element by: [data-testid="search-interface"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
   × HomePage > renders CollectionList when activeTab is collections 2ms
     → Unable to find an element by: [data-testid="collection-list"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
   × HomePage > renders nothing when activeTab is an unknown value 3ms
     → expect(received).toBeEmptyDOMElement()

received value must be an HTMLElement or an SVGElement.

 ❯ src/components/__tests__/CreateJobForm.test.tsx (12 tests | 3 failed) 3419ms
   × CreateJobForm > creates job with form data 1198ms
     → expected "spy" to be called at least once

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<form[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900 mb-2"[39m
            [36m>[39m
              [0mCreate Embedding Job[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [36m>[39m
              [0mScan a directory and create embeddings for all supported documents.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mCollection Mode[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-4"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"radio"[39m
                    [33mvalue[39m=[32m"create"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm"[39m
                  [36m>[39m
                    [0mCreate New Collection[0m
                  [36m</span>[39m
                [36m</label>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"radio"[39m
                    [33mvalue[39m=[32m"append"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm"[39m
                  [36m>[39m
                    [0mAdd to Existing Collection[0m
                  [36m</span>[39m
                [36m</label>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"collection"[39m
              [36m>[39m
                [0mJob Name [0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"collection"[39m
                [33mname[39m=[32m"collection"[39m
                [33mplaceholder[39m=[32m"my-documents"[39m
                [33mrequired[39m=[32m""[39m
                [33mtype[39m=[32m"text"[39m
                [33mvalue[39m=[32m"My Collection"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mA unique name for this collection of documents[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"directory"[39m
              [36m>[39m
                [0mDirectory Path [0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"directory"[39m
                  [33mname[39m=[32m"directory"[39m
                  [33mplaceholder[39m=[32m"/path/to/documents"[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m"/test/path"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mScan[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-start"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h4[39m
                    [33mclass[39m=[32m"text-sm font-medium text-blue-900"[39m
                  [36m>[39m
                    [0mScan Complete[0m
                  [36m</h4>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"mt-1 text-sm text-blue-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium"[39m
                    [36m>[39m
                      [0m10[0m
                    [36m</span>[39m
                    [0m files found,[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium ml-1"[39m
                    [36m>[39m
                      [0m1 MB[0m
                    [36m</span>[39m
                    [0m total[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<details[39m
                  [33mclass[39m=[32m"text-right"[39m
                [36m>[39m
                  [36m<summary[39m
                    [33mclass[39m=[32m"cursor-pointer text-sm text-blue-600 hover:text-blue-800"[39m
                  [36m>[39m
                    [0mView files[0m
                  [36m</summary>[39m
                [36m</details>[39m
              [36m</div>[39m
              [36m<details>[39m
                [36m<summary[39m
                  [33mclass[39m=[32m"sr-only"[39m
                [36m>[39m
                  [0mFile list[0m
                [36m</summary>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-3 border-t border-blue-200 pt-3"[39m
                [36m>[39m
                  [36m<ul[39m
                    [33mclass[39m=[32m"text-xs text-gray-600 max-h-40 overflow-y-auto space-y-1"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</details>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"model"[39m
              [36m>[39m
                [0mEmbedding Model[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"model"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"Qwen/Qwen3-Embedding-0.6B"[39m
                [36m>[39m
                  [0mQwen/Qwen3-Embedding-0.6B[0m
                  [0m - [0m
                [36m</option>[39m
              [36m</select>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mDimension: [0m
                [0m | Memory: [0m
                [0mN/A[0m
                [0m MB[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"chunkSize"[39m
                [36m>[39m
                  [0mChunk Size (tokens)[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"chunkSize"[39m
                  [33mmax[39m=[32m"50000"[39m
                  [33mmin[39m=[32m"100"[39m
                  [33mtype[39m=[32m"number"[39m
                  [33mvalue[39m=[32m"600"[39m
                [36m/>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mTokens per chunk (100-50000)[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"chunkOverlap"[39m
                [36m>[39m
                  [0mChunk Overlap (tokens)[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"chunkOverlap"[39m
                  [33mmax[39m=[32m"600"[39m
                  [33mmin[39m=[32m"0"[39m
                  [33mtype[39m=[32m"number"[39m
                  [33mvalue[39m=[32m"200"[39m
                [36m/>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mOverlapping tokens[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border-t pt-4"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm font-medium text-blue-600 hover:text-blue-500 flex items-center"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mShow[0m
                [0m Advanced Options[0m
                [36m<svg[39m
                  [33mclass[39m=[32m"ml-1 h-4 w-4 transform transition-transform "[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M19 9l-7 7-7-7"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-end space-x-3 pt-6 border-t"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mReset[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [33mtype[39m=[32m"submit"[39m
            [36m>[39m
              [0mCreate Job[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</form>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   × CreateJobForm > shows advanced options when toggled 45ms
     → Unable to find a label with the text of: Chunk Size

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
    [36m>[39m
      [36m<form[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-xl font-semibold text-gray-900 mb-2"[39m
          [36m>[39m
            [0mCreate Embedding Job[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
          [36m>[39m
            [0mScan a directory and create embeddings for all supported documents.[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
            [36m>[39m
              [0mCollection Mode[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex space-x-4"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<input[39m
                  [33mchecked[39m=[32m""[39m
                  [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                  [33mtype[39m=[32m"radio"[39m
                  [33mvalue[39m=[32m"create"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-sm"[39m
                [36m>[39m
                  [0mCreate New Collection[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<label[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                  [33mtype[39m=[32m"radio"[39m
                  [33mvalue[39m=[32m"append"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-sm"[39m
                [36m>[39m
                  [0mAdd to Existing Collection[0m
                [36m</span>[39m
              [36m</label>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
              [33mfor[39m=[32m"collection"[39m
            [36m>[39m
              [0mJob Name [0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<input[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
              [33mid[39m=[32m"collection"[39m
              [33mname[39m=[32m"collection"[39m
              [33mplaceholder[39m=[32m"my-documents"[39m
              [33mrequired[39m=[32m""[39m
              [33mtype[39m=[32m"text"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<p[39m
              [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
            [36m>[39m
              [0mA unique name for this collection of documents[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
              [33mfor[39m=[32m"directory"[39m
            [36m>[39m
              [0mDirectory Path [0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"directory"[39m
                [33mname[39m=[32m"directory"[39m
                [33mplaceholder[39m=[32m"/path/to/documents"[39m
                [33mtype[39m=[32m"text"[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mScan[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
              [33mfor[39m=[32m"model"[39m
            [36m>[39m
              [0mEmbedding Model[0m
            [36m</label>[39m
            [36m<select[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
              [33mid[39m=[32m"model"[39m
            [36m>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"Qwen/Qwen3-Embedding-0.6B"[39m
              [36m>[39m
                [0mQwen/Qwen3-Embedding-0.6B[0m
                [0m - [0m
              [36m</option>[39m
            [36m</select>[39m
            [36m<p[39m
              [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
            [36m>[39m
              [0mDimension: [0m
              [0m | Memory: [0m
              [0mN/A[0m
              [0m MB[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"chunkSize"[39m
              [36m>[39m
                [0mChunk Size (tokens)[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"chunkSize"[39m
                [33mmax[39m=[32m"50000"[39m
                [33mmin[39m=[32m"100"[39m
                [33mtype[39m=[32m"number"[39m
                [33mvalue[39m=[32m"600"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mTokens per chunk (100-50000)[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"chunkOverlap"[39m
              [36m>[39m
                [0mChunk Overlap (tokens)[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"chunkOverlap"[39m
                [33mmax[39m=[32m"600"[39m
                [33mmin[39m=[32m"0"[39m
                [33mtype[39m=[32m"number"[39m
                [33mvalue[39m=[32m"200"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mOverlapping tokens[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-t pt-4"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"text-sm font-medium text-blue-600 hover:text-blue-500 flex items-center"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mHide[0m
              [0m Advanced Options[0m
              [36m<svg[39m
                [33mclass[39m=[32m"ml-1 h-4 w-4 transform transition-transform rotate-180"[39m
                [33mfill[39m=[32m"none"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M19 9l-7 7-7-7"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4 mt-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"vectorDim"[39m
                [36m>[39m
                  [0mVector Dimension[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"vectorDim"[39m
                  [33mplaceholder[39m=[32m"Auto"[39m
                  [33mtype[39m=[32m"number"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mLeave empty for default[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"quantization"[39m
                [36m>[39m
                  [0mQuantization[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"quantization"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"float32"[39m
                  [36m>[39m
                    [0mFloat32[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"float16"[39m
                  [36m>[39m
                    [0mFloat16[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"int8"[39m
                  [36m>[39m
                    [0mInt8[0m
                  [36m</option>[39m
                [36m</select>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mModel precision level[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"batchSize"[39m
                [36m>[39m
                  [0mBatch Size[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"batchSize"[39m
                  [33mmax[39m=[32m"1000"[39m
                  [33mmin[39m=[32m"1"[39m
                  [33mtype[39m=[32m"number"[39m
                  [33mvalue[39m=[32m"96"[39m
                [36m/>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mChunks per batch[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"instruction"[39m
              [36m>[39m
                [0mCustom Instruction (optional)[0m
              [36m</label>[39m
              [36m<textarea[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"instruction"[39m
                [33mplaceholder[39m=[32m"Represent this document for searching:"[39m
                [33mrows[39m=[32m"2"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mCustom instruction for the embedding model[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-end space-x-3 pt-6 border-t"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0mReset[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
            [33mdisabled[39m=[32m""[39m
            [33mtype[39m=[32m"submit"[39m
          [36m>[39m
            [0mCreate Job[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</form>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
   × CreateJobForm > handles append mode submission 1182ms
     → expected "spy" to be called at least once

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<form[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900 mb-2"[39m
            [36m>[39m
              [0mCreate Embedding Job[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [36m>[39m
              [0mScan a directory and create embeddings for all supported documents.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mCollection Mode[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-4"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"radio"[39m
                    [33mvalue[39m=[32m"create"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm"[39m
                  [36m>[39m
                    [0mCreate New Collection[0m
                  [36m</span>[39m
                [36m</label>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"radio"[39m
                    [33mvalue[39m=[32m"append"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm"[39m
                  [36m>[39m
                    [0mAdd to Existing Collection[0m
                  [36m</span>[39m
                [36m</label>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"existingCollection"[39m
              [36m>[39m
                [0mSelect Collection [0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"existingCollection"[39m
                [33mrequired[39m=[32m""[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m""[39m
                [36m>[39m
                  [0mSelect a collection...[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"Existing Collection"[39m
                [36m>[39m
                  [0mExisting Collection[0m
                  [0m ([0m
                  [0m10[0m
                  [0m files)[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-gray-50 border border-gray-200 rounded-md p-4"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"text-sm font-medium text-gray-900 mb-2"[39m
              [36m>[39m
                [0mInherited Settings[0m
              [36m</h4>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-2 gap-x-4 gap-y-2 text-sm"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mModel:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m>[39m
                    [0mQwen/Qwen3-Embedding-0.6B[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mChunk Size:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m>[39m
                    [0m600[0m
                    [0m tokens[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mChunk Overlap:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m>[39m
                    [0m200[0m
                    [0m tokens[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mBatch Size:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mQuantization:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-2 text-xs text-gray-500"[39m
              [36m>[39m
                [0mThese settings will be used to ensure consistency with the existing collection.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"directory"[39m
              [36m>[39m
                [0mDirectory Path [0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"directory"[39m
                  [33mname[39m=[32m"directory"[39m
                  [33mplaceholder[39m=[32m"/path/to/documents"[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m"/test/append/path"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mScan[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-start"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h4[39m
                    [33mclass[39m=[32m"text-sm font-medium text-blue-900"[39m
                  [36m>[39m
                    [0mScan Complete[0m
                  [36m</h4>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"mt-1 text-sm text-blue-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium"[39m
                    [36m>[39m
                      [0m5[0m
                    [36m</span>[39m
                    [0m files found,[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium ml-1"[39m
                    [36m>[39m
                      [0m512 KB[0m
                    [36m</span>[39m
                    [0m total[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<details[39m
                  [33mclass[39m=[32m"text-right"[39m
                [36m>[39m
                  [36m<summary[39m
                    [33mclass[39m=[32m"cursor-pointer text-sm text-blue-600 hover:text-blue-800"[39m
                  [36m>[39m
                    [0mView files[0m
                  [36m</summary>[39m
                [36m</details>[39m
              [36m</div>[39m
              [36m<details>[39m
                [36m<summary[39m
                  [33mclass[39m=[32m"sr-only"[39m
                [36m>[39m
                  [0mFile list[0m
                [36m</summary>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-3 border-t border-blue-200 pt-3"[39m
                [36m>[39m
                  [36m<ul[39m
                    [33mclass[39m=[32m"text-xs text-gray-600 max-h-40 overflow-y-auto space-y-1"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</details>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-end space-x-3 pt-6 border-t"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mReset[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [33mtype[39m=[32m"submit"[39m
            [36m>[39m
              [0mAdd Documents[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</form>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m

⎯⎯⎯⎯⎯⎯ Failed Tests 31 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/components/__tests__/CreateJobForm.test.tsx > CreateJobForm > creates job with form data
AssertionError: expected "spy" to be called at least once

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<form[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900 mb-2"[39m
            [36m>[39m
              [0mCreate Embedding Job[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [36m>[39m
              [0mScan a directory and create embeddings for all supported documents.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mCollection Mode[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-4"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"radio"[39m
                    [33mvalue[39m=[32m"create"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm"[39m
                  [36m>[39m
                    [0mCreate New Collection[0m
                  [36m</span>[39m
                [36m</label>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"radio"[39m
                    [33mvalue[39m=[32m"append"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm"[39m
                  [36m>[39m
                    [0mAdd to Existing Collection[0m
                  [36m</span>[39m
                [36m</label>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"collection"[39m
              [36m>[39m
                [0mJob Name [0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"collection"[39m
                [33mname[39m=[32m"collection"[39m
                [33mplaceholder[39m=[32m"my-documents"[39m
                [33mrequired[39m=[32m""[39m
                [33mtype[39m=[32m"text"[39m
                [33mvalue[39m=[32m"My Collection"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mA unique name for this collection of documents[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"directory"[39m
              [36m>[39m
                [0mDirectory Path [0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"directory"[39m
                  [33mname[39m=[32m"directory"[39m
                  [33mplaceholder[39m=[32m"/path/to/documents"[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m"/test/path"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mScan[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-start"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h4[39m
                    [33mclass[39m=[32m"text-sm font-medium text-blue-900"[39m
                  [36m>[39m
                    [0mScan Complete[0m
                  [36m</h4>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"mt-1 text-sm text-blue-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium"[39m
                    [36m>[39m
                      [0m10[0m
                    [36m</span>[39m
                    [0m files found,[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium ml-1"[39m
                    [36m>[39m
                      [0m1 MB[0m
                    [36m</span>[39m
                    [0m total[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<details[39m
                  [33mclass[39m=[32m"text-right"[39m
                [36m>[39m
                  [36m<summary[39m
                    [33mclass[39m=[32m"cursor-pointer text-sm text-blue-600 hover:text-blue-800"[39m
                  [36m>[39m
                    [0mView files[0m
                  [36m</summary>[39m
                [36m</details>[39m
              [36m</div>[39m
              [36m<details>[39m
                [36m<summary[39m
                  [33mclass[39m=[32m"sr-only"[39m
                [36m>[39m
                  [0mFile list[0m
                [36m</summary>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-3 border-t border-blue-200 pt-3"[39m
                [36m>[39m
                  [36m<ul[39m
                    [33mclass[39m=[32m"text-xs text-gray-600 max-h-40 overflow-y-auto space-y-1"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</details>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"model"[39m
              [36m>[39m
                [0mEmbedding Model[0m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"model"[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"Qwen/Qwen3-Embedding-0.6B"[39m
                [36m>[39m
                  [0mQwen/Qwen3-Embedding-0.6B[0m
                  [0m - [0m
                [36m</option>[39m
              [36m</select>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mDimension: [0m
                [0m | Memory: [0m
                [0mN/A[0m
                [0m MB[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"chunkSize"[39m
                [36m>[39m
                  [0mChunk Size (tokens)[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"chunkSize"[39m
                  [33mmax[39m=[32m"50000"[39m
                  [33mmin[39m=[32m"100"[39m
                  [33mtype[39m=[32m"number"[39m
                  [33mvalue[39m=[32m"600"[39m
                [36m/>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mTokens per chunk (100-50000)[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"chunkOverlap"[39m
                [36m>[39m
                  [0mChunk Overlap (tokens)[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"chunkOverlap"[39m
                  [33mmax[39m=[32m"600"[39m
                  [33mmin[39m=[32m"0"[39m
                  [33mtype[39m=[32m"number"[39m
                  [33mvalue[39m=[32m"200"[39m
                [36m/>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mOverlapping tokens[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"border-t pt-4"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"text-sm font-medium text-blue-600 hover:text-blue-500 flex items-center"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mShow[0m
                [0m Advanced Options[0m
                [36m<svg[39m
                  [33mclass[39m=[32m"ml-1 h-4 w-4 transform transition-transform "[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M19 9l-7 7-7-7"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-end space-x-3 pt-6 border-t"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mReset[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [33mtype[39m=[32m"submit"[39m
            [36m>[39m
              [0mCreate Job[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</form>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ❯ src/components/__tests__/CreateJobForm.test.tsx:267:26
    265|     
    266|     await waitFor(() => {
    267|       expect(mockAddJob).toHaveBeenCalled()
       |                          ^
    268|       expect(mockAddToast).toHaveBeenCalledWith({
    269|         type: 'success',
 ❯ runWithExpensiveErrorDiagnosticsDisabled ../../node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback ../../node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback ../../node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/31]⎯

 FAIL  src/components/__tests__/CreateJobForm.test.tsx > CreateJobForm > shows advanced options when toggled
TestingLibraryElementError: Unable to find a label with the text of: Chunk Size

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
    [36m>[39m
      [36m<form[39m
        [33mclass[39m=[32m"space-y-6"[39m
      [36m>[39m
        [36m<div>[39m
          [36m<h2[39m
            [33mclass[39m=[32m"text-xl font-semibold text-gray-900 mb-2"[39m
          [36m>[39m
            [0mCreate Embedding Job[0m
          [36m</h2>[39m
          [36m<p[39m
            [33mclass[39m=[32m"text-sm text-gray-600"[39m
          [36m>[39m
            [0mScan a directory and create embeddings for all supported documents.[0m
          [36m</p>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
            [36m>[39m
              [0mCollection Mode[0m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex space-x-4"[39m
            [36m>[39m
              [36m<label[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<input[39m
                  [33mchecked[39m=[32m""[39m
                  [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                  [33mtype[39m=[32m"radio"[39m
                  [33mvalue[39m=[32m"create"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-sm"[39m
                [36m>[39m
                  [0mCreate New Collection[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<label[39m
                [33mclass[39m=[32m"flex items-center"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                  [33mtype[39m=[32m"radio"[39m
                  [33mvalue[39m=[32m"append"[39m
                [36m/>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-sm"[39m
                [36m>[39m
                  [0mAdd to Existing Collection[0m
                [36m</span>[39m
              [36m</label>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
              [33mfor[39m=[32m"collection"[39m
            [36m>[39m
              [0mJob Name [0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<input[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
              [33mid[39m=[32m"collection"[39m
              [33mname[39m=[32m"collection"[39m
              [33mplaceholder[39m=[32m"my-documents"[39m
              [33mrequired[39m=[32m""[39m
              [33mtype[39m=[32m"text"[39m
              [33mvalue[39m=[32m""[39m
            [36m/>[39m
            [36m<p[39m
              [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
            [36m>[39m
              [0mA unique name for this collection of documents[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
              [33mfor[39m=[32m"directory"[39m
            [36m>[39m
              [0mDirectory Path [0m
              [36m<span[39m
                [33mclass[39m=[32m"text-red-500"[39m
              [36m>[39m
                [0m*[0m
              [36m</span>[39m
            [36m</label>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex"[39m
            [36m>[39m
              [36m<input[39m
                [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"directory"[39m
                [33mname[39m=[32m"directory"[39m
                [33mplaceholder[39m=[32m"/path/to/documents"[39m
                [33mtype[39m=[32m"text"[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
              [36m<button[39m
                [33mclass[39m=[32m"px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                [33mdisabled[39m=[32m""[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mScan[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div>[39m
            [36m<label[39m
              [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
              [33mfor[39m=[32m"model"[39m
            [36m>[39m
              [0mEmbedding Model[0m
            [36m</label>[39m
            [36m<select[39m
              [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
              [33mid[39m=[32m"model"[39m
            [36m>[39m
              [36m<option[39m
                [33mvalue[39m=[32m"Qwen/Qwen3-Embedding-0.6B"[39m
              [36m>[39m
                [0mQwen/Qwen3-Embedding-0.6B[0m
                [0m - [0m
              [36m</option>[39m
            [36m</select>[39m
            [36m<p[39m
              [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
            [36m>[39m
              [0mDimension: [0m
              [0m | Memory: [0m
              [0mN/A[0m
              [0m MB[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"chunkSize"[39m
              [36m>[39m
                [0mChunk Size (tokens)[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"chunkSize"[39m
                [33mmax[39m=[32m"50000"[39m
                [33mmin[39m=[32m"100"[39m
                [33mtype[39m=[32m"number"[39m
                [33mvalue[39m=[32m"600"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mTokens per chunk (100-50000)[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"chunkOverlap"[39m
              [36m>[39m
                [0mChunk Overlap (tokens)[0m
              [36m</label>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"chunkOverlap"[39m
                [33mmax[39m=[32m"600"[39m
                [33mmin[39m=[32m"0"[39m
                [33mtype[39m=[32m"number"[39m
                [33mvalue[39m=[32m"200"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mOverlapping tokens[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-t pt-4"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"text-sm font-medium text-blue-600 hover:text-blue-500 flex items-center"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mHide[0m
              [0m Advanced Options[0m
              [36m<svg[39m
                [33mclass[39m=[32m"ml-1 h-4 w-4 transform transition-transform rotate-180"[39m
                [33mfill[39m=[32m"none"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M19 9l-7 7-7-7"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-4 mt-4"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"grid grid-cols-2 gap-4"[39m
            [36m>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"vectorDim"[39m
                [36m>[39m
                  [0mVector Dimension[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"vectorDim"[39m
                  [33mplaceholder[39m=[32m"Auto"[39m
                  [33mtype[39m=[32m"number"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mLeave empty for default[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"quantization"[39m
                [36m>[39m
                  [0mQuantization[0m
                [36m</label>[39m
                [36m<select[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"quantization"[39m
                [36m>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"float32"[39m
                  [36m>[39m
                    [0mFloat32[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"float16"[39m
                  [36m>[39m
                    [0mFloat16[0m
                  [36m</option>[39m
                  [36m<option[39m
                    [33mvalue[39m=[32m"int8"[39m
                  [36m>[39m
                    [0mInt8[0m
                  [36m</option>[39m
                [36m</select>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mModel precision level[0m
                [36m</p>[39m
              [36m</div>[39m
              [36m<div>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                  [33mfor[39m=[32m"batchSize"[39m
                [36m>[39m
                  [0mBatch Size[0m
                [36m</label>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"batchSize"[39m
                  [33mmax[39m=[32m"1000"[39m
                  [33mmin[39m=[32m"1"[39m
                  [33mtype[39m=[32m"number"[39m
                  [33mvalue[39m=[32m"96"[39m
                [36m/>[39m
                [36m<p[39m
                  [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
                [36m>[39m
                  [0mChunks per batch[0m
                [36m</p>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"instruction"[39m
              [36m>[39m
                [0mCustom Instruction (optional)[0m
              [36m</label>[39m
              [36m<textarea[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"instruction"[39m
                [33mplaceholder[39m=[32m"Represent this document for searching:"[39m
                [33mrows[39m=[32m"2"[39m
              [36m/>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-1 text-xs text-gray-500"[39m
              [36m>[39m
                [0mCustom instruction for the embedding model[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex justify-end space-x-3 pt-6 border-t"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
            [33mtype[39m=[32m"button"[39m
          [36m>[39m
            [0mReset[0m
          [36m</button>[39m
          [36m<button[39m
            [33mclass[39m=[32m"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
            [33mdisabled[39m=[32m""[39m
            [33mtype[39m=[32m"submit"[39m
          [36m>[39m
            [0mCreate Job[0m
          [36m</button>[39m
        [36m</div>[39m
      [36m</form>[39m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
 ❯ Object.getElementError ../../node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ getAllByLabelText ../../node_modules/@testing-library/dom/dist/queries/label-text.js:111:38
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/__tests__/CreateJobForm.test.tsx:285:19
    283|     
    284|     expect(screen.getByLabelText('Embedding Model')).toBeInTheDocument…
    285|     expect(screen.getByLabelText('Chunk Size')).toBeInTheDocument()
       |                   ^
    286|     expect(screen.getByLabelText('Chunk Overlap')).toBeInTheDocument()
    287|     expect(screen.getByLabelText('Batch Size')).toBeInTheDocument()

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/31]⎯

 FAIL  src/components/__tests__/CreateJobForm.test.tsx > CreateJobForm > handles append mode submission
AssertionError: expected "spy" to be called at least once

Ignored nodes: comments, script, style
[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"bg-white rounded-lg shadow-md p-6"[39m
      [36m>[39m
        [36m<form[39m
          [33mclass[39m=[32m"space-y-6"[39m
        [36m>[39m
          [36m<div>[39m
            [36m<h2[39m
              [33mclass[39m=[32m"text-xl font-semibold text-gray-900 mb-2"[39m
            [36m>[39m
              [0mCreate Embedding Job[0m
            [36m</h2>[39m
            [36m<p[39m
              [33mclass[39m=[32m"text-sm text-gray-600"[39m
            [36m>[39m
              [0mScan a directory and create embeddings for all supported documents.[0m
            [36m</p>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
          [36m>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-2"[39m
              [36m>[39m
                [0mCollection Mode[0m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex space-x-4"[39m
              [36m>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mchecked[39m=[32m""[39m
                    [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"radio"[39m
                    [33mvalue[39m=[32m"create"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm"[39m
                  [36m>[39m
                    [0mCreate New Collection[0m
                  [36m</span>[39m
                [36m</label>[39m
                [36m<label[39m
                  [33mclass[39m=[32m"flex items-center"[39m
                [36m>[39m
                  [36m<input[39m
                    [33mclass[39m=[32m"mr-2 text-blue-600 focus:ring-blue-500"[39m
                    [33mtype[39m=[32m"radio"[39m
                    [33mvalue[39m=[32m"append"[39m
                  [36m/>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"text-sm"[39m
                  [36m>[39m
                    [0mAdd to Existing Collection[0m
                  [36m</span>[39m
                [36m</label>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"existingCollection"[39m
              [36m>[39m
                [0mSelect Collection [0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<select[39m
                [33mclass[39m=[32m"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                [33mid[39m=[32m"existingCollection"[39m
                [33mrequired[39m=[32m""[39m
              [36m>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m""[39m
                [36m>[39m
                  [0mSelect a collection...[0m
                [36m</option>[39m
                [36m<option[39m
                  [33mvalue[39m=[32m"Existing Collection"[39m
                [36m>[39m
                  [0mExisting Collection[0m
                  [0m ([0m
                  [0m10[0m
                  [0m files)[0m
                [36m</option>[39m
              [36m</select>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-gray-50 border border-gray-200 rounded-md p-4"[39m
            [36m>[39m
              [36m<h4[39m
                [33mclass[39m=[32m"text-sm font-medium text-gray-900 mb-2"[39m
              [36m>[39m
                [0mInherited Settings[0m
              [36m</h4>[39m
              [36m<div[39m
                [33mclass[39m=[32m"grid grid-cols-2 gap-x-4 gap-y-2 text-sm"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mModel:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m>[39m
                    [0mQwen/Qwen3-Embedding-0.6B[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mChunk Size:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m>[39m
                    [0m600[0m
                    [0m tokens[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mChunk Overlap:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m>[39m
                    [0m200[0m
                    [0m tokens[0m
                  [36m</span>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mBatch Size:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m/>[39m
                [36m</div>[39m
                [36m<div>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"font-medium text-gray-700"[39m
                  [36m>[39m
                    [0mQuantization:[0m
                  [36m</span>[39m
                  [36m<span[39m
                    [33mclass[39m=[32m"ml-2 text-gray-600"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<p[39m
                [33mclass[39m=[32m"mt-2 text-xs text-gray-500"[39m
              [36m>[39m
                [0mThese settings will be used to ensure consistency with the existing collection.[0m
              [36m</p>[39m
            [36m</div>[39m
            [36m<div>[39m
              [36m<label[39m
                [33mclass[39m=[32m"block text-sm font-medium text-gray-700 mb-1"[39m
                [33mfor[39m=[32m"directory"[39m
              [36m>[39m
                [0mDirectory Path [0m
                [36m<span[39m
                  [33mclass[39m=[32m"text-red-500"[39m
                [36m>[39m
                  [0m*[0m
                [36m</span>[39m
              [36m</label>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm"[39m
                  [33mid[39m=[32m"directory"[39m
                  [33mname[39m=[32m"directory"[39m
                  [33mplaceholder[39m=[32m"/path/to/documents"[39m
                  [33mtype[39m=[32m"text"[39m
                  [33mvalue[39m=[32m"/test/append/path"[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"px-4 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [0mScan[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"bg-blue-50 border border-blue-200 rounded-md p-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex justify-between items-start"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<h4[39m
                    [33mclass[39m=[32m"text-sm font-medium text-blue-900"[39m
                  [36m>[39m
                    [0mScan Complete[0m
                  [36m</h4>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"mt-1 text-sm text-blue-700"[39m
                  [36m>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium"[39m
                    [36m>[39m
                      [0m5[0m
                    [36m</span>[39m
                    [0m files found,[0m
                    [36m<span[39m
                      [33mclass[39m=[32m"font-medium ml-1"[39m
                    [36m>[39m
                      [0m512 KB[0m
                    [36m</span>[39m
                    [0m total[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<details[39m
                  [33mclass[39m=[32m"text-right"[39m
                [36m>[39m
                  [36m<summary[39m
                    [33mclass[39m=[32m"cursor-pointer text-sm text-blue-600 hover:text-blue-800"[39m
                  [36m>[39m
                    [0mView files[0m
                  [36m</summary>[39m
                [36m</details>[39m
              [36m</div>[39m
              [36m<details>[39m
                [36m<summary[39m
                  [33mclass[39m=[32m"sr-only"[39m
                [36m>[39m
                  [0mFile list[0m
                [36m</summary>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mt-3 border-t border-blue-200 pt-3"[39m
                [36m>[39m
                  [36m<ul[39m
                    [33mclass[39m=[32m"text-xs text-gray-600 max-h-40 overflow-y-auto space-y-1"[39m
                  [36m/>[39m
                [36m</div>[39m
              [36m</details>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex justify-end space-x-3 pt-6 border-t"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mReset[0m
            [36m</button>[39m
            [36m<button[39m
              [33mclass[39m=[32m"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"[39m
              [33mtype[39m=[32m"submit"[39m
            [36m>[39m
              [0mAdd Documents[0m
            [36m</button>[39m
          [36m</div>[39m
        [36m</form>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ❯ src/components/__tests__/CreateJobForm.test.tsx:404:26
    402|     // Verify the job was added
    403|     await waitFor(() => {
    404|       expect(mockAddJob).toHaveBeenCalled()
       |                          ^
    405|       expect(mockAddToast).toHaveBeenCalledWith({
    406|         type: 'success',
 ❯ runWithExpensiveErrorDiagnosticsDisabled ../../node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback ../../node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback ../../node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/31]⎯

 FAIL  src/components/__tests__/Layout.test.tsx > Layout > renders header with app title and user info
 FAIL  src/components/__tests__/Layout.test.tsx > Layout > renders navigation tabs on home page
 FAIL  src/components/__tests__/Layout.test.tsx > Layout > highlights active tab correctly
 FAIL  src/components/__tests__/Layout.test.tsx > Layout > handles tab switching
 FAIL  src/components/__tests__/Layout.test.tsx > Layout > renders all modals and toast
 FAIL  src/components/__tests__/Layout.test.tsx > Layout > renders outlet for page content
 FAIL  src/components/__tests__/Layout.test.tsx > Layout > handles logout
 FAIL  src/components/__tests__/Layout.test.tsx > Layout > shows settings link on home page
 FAIL  src/components/__tests__/Layout.test.tsx > Layout > shows back link on settings page
 FAIL  src/components/__tests__/Layout.test.tsx > Layout > hides navigation tabs on settings page
 FAIL  src/components/__tests__/Layout.test.tsx > Layout > shows verification link in development mode
 FAIL  src/components/__tests__/Layout.test.tsx > Layout > hides verification link in production mode
 FAIL  src/components/__tests__/Layout.test.tsx > Layout > handles all tab clicks correctly
 FAIL  src/components/__tests__/Layout.test.tsx > Layout > renders with correct layout structure
Error: You cannot render a <Router> inside another <Router>. You should never have more than one in your app.
 ❯ invariant ../../node_modules/react-router/dist/development/chunk-QMGIS6GS.mjs:188:11
 ❯ Router ../../node_modules/react-router/dist/development/chunk-QMGIS6GS.mjs:5746:3
 ❯ Object.react-stack-bottom-frame ../../node_modules/react-dom/cjs/react-dom-client.development.js:23863:20
 ❯ renderWithHooks ../../node_modules/react-dom/cjs/react-dom-client.development.js:5529:22
 ❯ updateFunctionComponent ../../node_modules/react-dom/cjs/react-dom-client.development.js:8897:19
 ❯ beginWork ../../node_modules/react-dom/cjs/react-dom-client.development.js:10522:18
 ❯ runWithFiberInDEV ../../node_modules/react-dom/cjs/react-dom-client.development.js:1522:13
 ❯ performUnitOfWork ../../node_modules/react-dom/cjs/react-dom-client.development.js:15140:22
 ❯ workLoopSync ../../node_modules/react-dom/cjs/react-dom-client.development.js:14956:41
 ❯ renderRootSync ../../node_modules/react-dom/cjs/react-dom-client.development.js:14936:11

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/31]⎯

 FAIL  src/components/__tests__/Toast.test.tsx > Toast > renders error toast correctly
Error: expect(element).toHaveClass("border-l-4 border-red-500")

Expected the element to have class:
  border-l-4 border-red-500
Received:
  p-4
 ❯ src/components/__tests__/Toast.test.tsx:47:26
     45|     // Check for error styling (red border)
     46|     const toastElement = screen.getByText('Error').closest('div')?.par…
     47|     expect(toastElement).toHaveClass('border-l-4', 'border-red-500')
       |                          ^
     48|   })
     49| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/31]⎯

 FAIL  src/components/__tests__/Toast.test.tsx > Toast > renders success toast correctly
Error: expect(element).toHaveClass("border-l-4 border-green-500")

Expected the element to have class:
  border-l-4 border-green-500
Received:
  p-4
 ❯ src/components/__tests__/Toast.test.tsx:69:26
     67|     // Check for success styling (green border)
     68|     const toastElement = screen.getByText('Success').closest('div')?.p…
     69|     expect(toastElement).toHaveClass('border-l-4', 'border-green-500')
       |                          ^
     70|   })
     71| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/31]⎯

 FAIL  src/components/__tests__/Toast.test.tsx > Toast > renders warning toast correctly
Error: expect(element).toHaveClass("border-l-4 border-yellow-500")

Expected the element to have class:
  border-l-4 border-yellow-500
Received:
  p-4
 ❯ src/components/__tests__/Toast.test.tsx:91:26
     89|     // Check for warning styling (yellow border)
     90|     const toastElement = screen.getByText('Warning').closest('div')?.p…
     91|     expect(toastElement).toHaveClass('border-l-4', 'border-yellow-500')
       |                          ^
     92|   })
     93| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/31]⎯

 FAIL  src/components/__tests__/Toast.test.tsx > Toast > renders info toast correctly
Error: expect(element).toHaveClass("border-l-4 border-blue-500")

Expected the element to have class:
  border-l-4 border-blue-500
Received:
  p-4
 ❯ src/components/__tests__/Toast.test.tsx:113:26
    111|     // Check for info styling (blue border)
    112|     const toastElement = screen.getByText('Info').closest('div')?.pare…
    113|     expect(toastElement).toHaveClass('border-l-4', 'border-blue-500')
       |                          ^
    114|   })
    115| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/31]⎯

 FAIL  src/components/__tests__/Toast.test.tsx > Toast > renders toast with all expected classes
Error: expect(element).toHaveClass("max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden")

Expected the element to have class:
  max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden
Received:
  p-4
 ❯ src/components/__tests__/Toast.test.tsx:237:26
    235|     
    236|     const toastElement = screen.getByText('Info').closest('div')?.pare…
    237|     expect(toastElement).toHaveClass(
       |                          ^
    238|       'max-w-sm',
    239|       'w-full',

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/31]⎯

 FAIL  src/pages/__tests__/HomePage.test.tsx > HomePage > renders CreateJobForm when activeTab is create
TestingLibraryElementError: Unable to find an element by: [data-testid="create-job-form"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError ../../node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/pages/__tests__/HomePage.test.tsx:35:19
     33|     render(<HomePage />)
     34|     
     35|     expect(screen.getByTestId('create-job-form')).toBeInTheDocument()
       |                   ^
     36|     expect(screen.queryByTestId('job-list')).not.toBeInTheDocument()
     37|     expect(screen.queryByTestId('search-interface')).not.toBeInTheDocu…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/31]⎯

 FAIL  src/pages/__tests__/HomePage.test.tsx > HomePage > renders JobList when activeTab is jobs
TestingLibraryElementError: Unable to find an element by: [data-testid="job-list"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError ../../node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/pages/__tests__/HomePage.test.tsx:48:19
     46|     render(<HomePage />)
     47|     
     48|     expect(screen.getByTestId('job-list')).toBeInTheDocument()
       |                   ^
     49|     expect(screen.queryByTestId('create-job-form')).not.toBeInTheDocum…
     50|     expect(screen.queryByTestId('search-interface')).not.toBeInTheDocu…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/31]⎯

 FAIL  src/pages/__tests__/HomePage.test.tsx > HomePage > renders SearchInterface when activeTab is search
TestingLibraryElementError: Unable to find an element by: [data-testid="search-interface"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError ../../node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/pages/__tests__/HomePage.test.tsx:61:19
     59|     render(<HomePage />)
     60|     
     61|     expect(screen.getByTestId('search-interface')).toBeInTheDocument()
       |                   ^
     62|     expect(screen.queryByTestId('create-job-form')).not.toBeInTheDocum…
     63|     expect(screen.queryByTestId('job-list')).not.toBeInTheDocument()

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/31]⎯

 FAIL  src/pages/__tests__/HomePage.test.tsx > HomePage > renders CollectionList when activeTab is collections
TestingLibraryElementError: Unable to find an element by: [data-testid="collection-list"]

Ignored nodes: comments, script, style
[36m<body>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError ../../node_modules/@testing-library/dom/dist/config.js:37:19
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ ../../node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/pages/__tests__/HomePage.test.tsx:74:19
     72|     render(<HomePage />)
     73|     
     74|     expect(screen.getByTestId('collection-list')).toBeInTheDocument()
       |                   ^
     75|     expect(screen.queryByTestId('create-job-form')).not.toBeInTheDocum…
     76|     expect(screen.queryByTestId('job-list')).not.toBeInTheDocument()

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/31]⎯

 FAIL  src/pages/__tests__/HomePage.test.tsx > HomePage > renders nothing when activeTab is an unknown value
Error: expect(received).toBeEmptyDOMElement()

received value must be an HTMLElement or an SVGElement.

 ❯ src/pages/__tests__/HomePage.test.tsx:87:34
     85|     const { container } = render(<HomePage />)
     86|     
     87|     expect(container.firstChild).toBeEmptyDOMElement()
       |                                  ^
     88|     expect(screen.queryByTestId('create-job-form')).not.toBeInTheDocum…
     89|     expect(screen.queryByTestId('job-list')).not.toBeInTheDocument()

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/31]⎯

 FAIL  src/stores/__tests__/authStore.test.ts > authStore > clears auth data on logout
AssertionError: expected "spy" to be called with arguments: [ '/api/auth/logout', …(1) ]

Received: 



Number of calls: 0

 ❯ src/stores/__tests__/authStore.test.ts:111:23
    109| 
    110|     // Check that logout API was called
    111|     expect(mockFetch).toHaveBeenCalledWith(
       |                       ^
    112|       '/api/auth/logout',
    113|       expect.objectContaining({

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[15/31]⎯

 FAIL  src/stores/__tests__/authStore.test.ts > authStore > clears state even if logout API fails
AssertionError: expected "error" to be called with arguments: [ 'Logout API call failed:', …(1) ]

Received: 



Number of calls: 0

 ❯ src/stores/__tests__/authStore.test.ts:156:26
    154| 
    155|     // Check that error was logged
    156|     expect(consoleError).toHaveBeenCalledWith(
       |                          ^
    157|       'Logout API call failed:',
    158|       expect.any(Error)

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[16/31]⎯

 FAIL  src/stores/__tests__/uiStore.test.ts > uiStore > toasts > removes a toast by id
AssertionError: expected [] to have a length of 1 but got +0

- Expected
+ Received

- 1
+ 0

 ❯ src/stores/__tests__/uiStore.test.ts:67:37
     65|       })
     66| 
     67|       expect(result.current.toasts).toHaveLength(1)
       |                                     ^
     68|       expect(result.current.toasts[0].message).toBe('Toast 2')
     69|     })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[17/31]⎯

 FAIL  src/stores/__tests__/uiStore.test.ts > uiStore > toasts > handles multiple toasts with different durations
AssertionError: expected [] to have a length of 2 but got +0

- Expected
+ Received

- 2
+ 0

 ❯ src/stores/__tests__/uiStore.test.ts:166:37
    164|         vi.advanceTimersByTime(2000)
    165|       })
    166|       expect(result.current.toasts).toHaveLength(2)
       |                                     ^
    167|       expect(result.current.toasts.map(t => t.message)).toEqual(['Toas…
    168| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[18/31]⎯

⎯⎯⎯⎯⎯⎯ Unhandled Errors ⎯⎯⎯⎯⎯⎯

Vitest caught 3 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

⎯⎯⎯⎯ Unhandled Rejection ⎯⎯⎯⎯⎯
TypeError: addToast is not a function
 ❯ handleSubmit src/components/CreateJobForm.tsx:182:7
    180|       reset();
    181|     } catch (error: any) {
    182|       addToast({
       |       ^
    183|         type: 'error',
    184|         message: error.response?.data?.detail || 'Failed to create job…

This error originated in "src/components/__tests__/CreateJobForm.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "creates job with form data". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯ Unhandled Rejection ⎯⎯⎯⎯⎯
TypeError: addToast is not a function
 ❯ handleSubmit src/components/CreateJobForm.tsx:182:7
    180|       reset();
    181|     } catch (error: any) {
    182|       addToast({
       |       ^
    183|         type: 'error',
    184|         message: error.response?.data?.detail || 'Failed to create job…

This error originated in "src/components/__tests__/CreateJobForm.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "shows warning confirmation dialog". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

⎯⎯⎯⎯ Unhandled Rejection ⎯⎯⎯⎯⎯
TypeError: addToast is not a function
 ❯ handleSubmit src/components/CreateJobForm.tsx:182:7
    180|       reset();
    181|     } catch (error: any) {
    182|       addToast({
       |       ^
    183|         type: 'error',
    184|         message: error.response?.data?.detail || 'Failed to create job…

This error originated in "src/components/__tests__/CreateJobForm.test.tsx" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "handles append mode submission". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯

 Test Files  6 failed | 9 passed (15)
      Tests  31 failed | 119 passed (150)
     Errors  3 errors
   Start at  20:50:54
   Duration  5.26s (transform 1.40s, setup 3.85s, collect 3.64s, tests 6.52s, environment 7.77s, prepare 1.52s)

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
