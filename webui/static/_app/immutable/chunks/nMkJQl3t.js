var h=Object.defineProperty;var u=(r,e,t)=>e in r?h(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var n=(r,e,t)=>u(r,typeof e!="symbol"?e+"":e,t);import{a as c}from"./DOP3zwE5.js";class l{constructor(){n(this,"baseUrl","")}async request(e,t={}){const s=localStorage.getItem("access_token"),a={"Content-Type":"application/json",...s&&{Authorization:`Bearer ${s}`},...t.headers},o=await fetch(`${this.baseUrl}${e}`,{...t,headers:a});if(o.status===401)throw localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),c.logout(),new Error("Unauthorized");if(!o.ok){const i=await o.text();throw new Error(i||o.statusText)}return o.json()}get(e){return this.request(e)}post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})}put(e,t){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})}delete(e){return this.request(e,{method:"DELETE"})}}const p=new l;export{p as a};
