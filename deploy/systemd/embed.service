[Unit]
Description=Document Embedding Service
After=extract.service

[Service]
Type=oneshot
WorkingDirectory=/root/document-embedding-project
ExecStart=/usr/bin/python3 vecpipe/embed_chunks_unified.py \
    --input /opt/vecpipe/extract \
    --output /var/embeddings/ingest
User=root
StandardOutput=journal
StandardError=journal
TimeoutStartSec=7200
Environment="CUDA_VISIBLE_DEVICES=0"
EnvironmentFile=/etc/vecpipe/config.env

[Install]
WantedBy=multi-user.target